<div class="container-fluid product-list">
    <div *ngFor="let category of productsByCategory | keyvalue">
        <div class="row text-center category">
            <h2>{{category.key}}</h2>
        </div>
        <ng-container *ngFor="let dir of category.value; let i=index">
            <div class="row pt-5 pb-5 no-gutters" [routerLink]="['/'+routes_url.PRODUCTS + '/' + dir.id]">
                <div class="col-md-4 d-flex flex-column justify-content-center align-items-center">
                    <div class="text-center">
                        <b>{{dir?.manufacturer}} {{dir?.name}}</b>
                    </div>
                    <img class="card-img-top product-img" src="{{dir?.upload}}">
                </div>
                <div class="col-md-8 d-flex flex-column justify-content-around">
                    <p class="card-text">
                        <b>Price: </b> ${{dir?.average_cost}}
                        <br>
                        <b>Release Date: </b>
                        {{dir?.release_date}}
                        <br>
                        {{addEllipsis(500, dir?.description)}}
                    </p>
                    <ul class="list-group list-group-flush">
                        <li *ngFor="let review of dir.reviews;" class="list-group-item">
                            <div class="row">
                                <div class="col-1 d-flex flex-column align-items-center justify-content-center">
                                    <img src="{{url.url + review.author.img}}" class="img img-fluid" width="40px">
                                    <span>{{review.author.name}}</span>
                                </div>
                                <div class="col-11">
                                    <ngb-rating [max]="5" [readonly]="true" [rate]="review.rating"></ngb-rating>
                                    <p>{{addEllipsis(200, review?.review)}}</p>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </ng-container>
    </div>
</div>


<footer class="bg-inverse section-4">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
            </div>
            <div class="col-md-9 socialWrapper">
                <i class="fa fa-facebook-square fa-3x" aria-hidden="true"></i>
                <i class="fa fa-google-plus-square fa-3x" aria-hidden="true"></i>
                <i class="fa fa-instagram fa-3x" aria-hidden="true"></i>
            </div>
        </div>
    </div>
</footer>